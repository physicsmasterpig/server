<!-- Exams page content -->
<style>
    /* Exams Overview Styles */
    .exams_overview_container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        margin-bottom: 32px;
    }

    .exams_overview_wrapper {
        width: 30%;
        height: 60px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: 1px solid #22262F;
        border-radius: 10px;
        padding: 20px;
        gap: 15px;
        transition: all 0.3s ease;
    }
    
    .exams_overview_wrapper:hover {
        background-color: #13161B;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .exams_overview_wrapper h1 {
        font-size: 18px;
        font-weight: normal;
        color: #545861;
    }
    
    .exams_overview_wrapper h2 {
        font-size: 24px;
        font-weight: bold;
        color: #FFFFFF;
    }

    /* Table Styles */
    .table_container {
        width: 100%;
    }
    
    .table_container .table_header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
    }
    
    .table_container .table_header .searchbox {
        width: 30%;
        height: 40px;
        border: 1px solid #22262F;
        border-radius: 10px;
        display: flex;
        background-color: #13161B;
        overflow: hidden;
    }
    
    .table_container .table_header .searchbox input {
        width: 100%;
        height: 100%;
        border: none;
        background-color: transparent;
        color: #FFFFFF;
        padding: 0 16px;
        font-size: 14px;
    }
    
    .table_container .table_header .searchbox input::placeholder {
        color: #545861;
    }
    
    .table_container .table_header .button_group {
        display: flex;
        gap: 10px;
    }
    
    .table_container .table_header .button_group .button {
        height: 40px;
        padding: 0 20px;
        background-color: #7F56D9;
        color: #FFFFFF;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s ease;
    }
    
    .table_container .table_header .button_group .button:hover {
        background-color: #6C4CC3;
        transform: translateY(-2px);
    }
    
    .table_container .table_content {
        border: 1px solid #22262F;
        border-radius: 10px;
        overflow: hidden;
    }
    
    .table_container .table_content table {
        width: 100%;
        border-collapse: collapse;
        background-color: #13161B;
    }
    
    .table_container .table_content table thead {
        color: #545861;
        height: 44px;
        text-align: left;
    }
    
    .table_container .table_content table thead th {
        padding: 0 20px;
        font-weight: 600;
        font-size: 14px;
    }
    
    .table_container .table_content table tbody {
        background-color: #0C0E12;
        color: #FFFFFF;
        text-align: left;
    }
    
    .table_container .table_content table tbody tr {
        height: 60px;
        border-bottom: 1px solid #22262F;
        transition: all 0.2s ease;
    }
    
    .table_container .table_content table tbody tr:hover {
        background-color: #13161B;
    }
    
    .table_container .table_content table tbody td {
        padding: 0 20px;
        font-size: 14px;
    }
    
    .table_container .table_content table tbody td svg {
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .table_container .table_content table tbody td svg:hover {
        opacity: 0.8;
    }
    
    .table_container .table_footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 60px;
        border-bottom: 1px solid #22262F;
        border-left: 1px solid #22262F;
        border-right: 1px solid #22262F;
        border-bottom-right-radius: 10px;
        border-bottom-left-radius: 10px;
        padding: 0 20px;
        background-color: #13161B;
    }
    
    .table_container .table_footer .page_button {
        min-width: 100px;
        height: 40px;
        color: #FFFFFF;
        background-color: #0C0E12;
        border: 1px solid #22262F;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .table_container .table_footer .page_button:hover {
        background-color: #1E2128;
    }
    
    .table_container .table_footer h1 {
        color: #545861;
        font-size: 14px;
        font-weight: normal;
    }

    /* Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    
    .modal-content {
        background-color: #13161B;
        border: 1px solid #22262F;
        border-radius: 10px;
        padding: 24px;
        max-width: 900px;
        width: 90%;
        max-height: 80vh;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
        color: #FFFFFF;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }
    
    .modal-content h2 {
        color: #7F56D9;
        margin-top: 0;
        margin-bottom: 24px;
        font-size: 24px;
        text-align: center;
    }
    
    .close-btn {
        width: 100px;
        height: 40px;
        background-color: transparent;
        border: 1px solid #4D5057;
        color: #FFFFFF;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .close-btn:hover {
        background-color: #1E2128;
    }
    
    .submit-btn {
        width: 100px;
        height: 40px;
        background-color: #7F56D9;
        color: #FFFFFF;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s ease;
    }
    
    .submit-btn:hover {
        background-color: #6C4CC3;
    }
    
    .show {
        display: flex !important;
    }

    /* Modal Form Styles */
    .exam-info {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 1px solid #22262F;
    }
    
    .exam-info-item {
        background-color: #0C0E12;
        border-radius: 8px;
        padding: 12px;
    }
    
    .exam-info-label {
        color: #545861;
        font-size: 12px;
        margin-bottom: 4px;
    }
    
    .exam-info-value {
        color: #FFFFFF;
        font-size: 16px;
        font-weight: 600;
    }

    /* Students Table within Modal */
    .students-table-container {
        margin-bottom: 20px;
        max-height: 400px;
        overflow-y: auto;
    }
    
    .students-table {
        width: 100%;
        border-collapse: collapse;
    }
    
    .students-table thead {
        position: sticky;
        top: 0;
        background-color: #191D24;
        z-index: 10;
    }
    
    .students-table th, 
    .students-table td {
        padding: 12px 16px;
        text-align: left;
        border-bottom: 1px solid #22262F;
    }
    
    .students-table th {
        color: #545861;
        font-weight: 600;
        font-size: 14px;
    }
    
    .students-table td {
        font-size: 14px;
    }
    
    .students-table tr:hover {
        background-color: #1E2128;
    }
    
    .score-input {
        width: 60px;
        padding: 6px;
        background-color: #0C0E12;
        border: 1px solid #22262F;
        border-radius: 4px;
        color: #FFFFFF;
        text-align: center;
    }
    
    .comment-input {
        width: 100%;
        padding: 6px 10px;
        background-color: #0C0E12;
        border: 1px solid #22262F;
        border-radius: 4px;
        color: #FFFFFF;
        resize: vertical;
        min-height: 36px;
    }

    /* Problem List Styles */
    .problems-list {
        margin-top: 20px;
        margin-bottom: 24px;
    }
    
    .problem-item {
        padding: 12px;
        background-color: #0C0E12;
        border-radius: 8px;
        margin-bottom: 12px;
    }
    
    .problem-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }
    
    .problem-title {
        font-weight: 600;
        color: #FFFFFF;
    }
    
    .problem-score {
        color: #7F56D9;
        font-weight: 600;
    }
    
    .problem-description {
        color: #94979C;
        font-size: 14px;
    }

    /* Modal Actions */
    .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #22262F;
    }

    /* SVG styles */
    .status-svg, .action-svg {
        transition: all 0.2s ease;
        cursor: pointer;
    }
    
    tr:hover .status-svg .status-text {
        fill: #FFFFFF;
    }
    
    tr:hover .action-svg path {
        stroke: #FFFFFF;
    }

    /* Badges */
    .status-badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }
    
    .status-active {
        background-color: rgba(23, 178, 106, 0.1);
        color: #17B26A;
    }
    
    .status-inactive {
        background-color: rgba(240, 68, 56, 0.1);
        color: #F04438;
    }
    
    .status-pending {
        background-color: rgba(247, 144, 9, 0.1);
        color: #F79009;
    }
    
    .status-completed {
        background-color: rgba(127, 86, 217, 0.1);
        color: #7F56D9;
    }

    /* Add new exam modal styles */
    .form-group {
        margin-bottom: 16px;
    }
    
    .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        color: #CECFD2;
    }
    
    .form-input, .form-select {
        width: 100%;
        padding: 12px;
        border: 1px solid #22262F;
        border-radius: 8px;
        background-color: #0C0E12;
        color: #FFFFFF;
    }
    
    .form-input:focus, .form-select:focus {
        outline: none;
        border-color: #7F56D9;
    }
    
    .form-row {
        display: flex;
        gap: 16px;
    }
    
    .form-row .form-group {
        flex: 1;
    }
    
    .add-problem-btn {
        width: 100%;
        padding: 12px;
        background-color: transparent;
        border: 1px dashed #7F56D9;
        color: #7F56D9;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 12px;
        transition: all 0.3s ease;
        font-weight: 600;
    }
    
    .add-problem-btn:hover {
        background-color: rgba(127, 86, 217, 0.1);
    }
    
    .problem-entry {
        border: 1px solid #22262F;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
        background-color: rgba(127, 86, 217, 0.05);
        transition: all 0.2s ease;
    }
    
    .problem-entry:hover {
        background-color: rgba(127, 86, 217, 0.1);
    }
    
    .problem-entry-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
        align-items: center;
    }
    
    .problem-number {
        font-weight: 600;
        color: #7F56D9;
    }
    
    .remove-problem {
        color: #F04438;
        cursor: pointer;
        font-size: 14px;
        padding: 4px 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
    }
    
    .remove-problem:hover {
        background-color: rgba(240, 68, 56, 0.1);
    }
</style>

<div class="exams_overview_container">
    <div class="exams_overview_wrapper">
        <h1>Active exams</h1>
        <h2 id="active-exams-count">0</h2>
    </div>
    <div class="exams_overview_wrapper">
        <h1>Total exams</h1>
        <h2 id="total-exams-count">0</h2>
    </div>
    <div class="exams_overview_wrapper">
        <h1>Average score</h1>
        <h2 id="average-score">0</h2>
    </div>
</div>

<div class="table_container">
    <div class="table_header">
        <div class="searchbox">
            <input type="text" placeholder="Search exams...">
        </div>
        <div class="button_group">
            <button class="button" id="create-exam-btn">Create exam</button>
        </div>
    </div>
    <div class="table_content">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Class</th>
                    <th>Date</th>
                    <th>Problems</th>
                    <th>Total Score</th>
                    <th>Status</th>
                    <th>View</th>
                    <th>Manage Scores</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table content will be loaded dynamically -->
                <!-- Example row for layout reference (will be replaced by JS) -->
                <tr>
                    <td>1000001</td>
                    <td>Midterm Exam</td>
                    <td>경기북과학고등학교 - 2025년 1학기</td>
                    <td>2025-05-15</td>
                    <td>10</td>
                    <td>100</td>
                    <td><span class="status-badge status-active">Active</span></td>
                    <td><img src="/assets/details-view.svg" alt="View" class="details-svg action-svg"></td>
                    <td><img src="/assets/manage-view.svg" alt="Manage" class="manage-svg action-svg"></td>
                </tr>
                <tr>
                    <td>1000002</td>
                    <td>Final Exam</td>
                    <td>서울과학고등학교 - 2025년 1학기</td>
                    <td>2025-06-20</td>
                    <td>15</td>
                    <td>150</td>
                    <td><span class="status-badge status-pending">Pending</span></td>
                    <td><img src="/assets/details-view.svg" alt="View" class="details-svg action-svg"></td>
                    <td><img src="/assets/manage-view.svg" alt="Manage" class="manage-svg action-svg"></td>
                </tr>
                <tr>
                    <td>1000003</td>
                    <td>Quiz #1</td>
                    <td>대구과학고등학교 - 2025년 1학기</td>
                    <td>2025-04-05</td>
                    <td>5</td>
                    <td>50</td>
                    <td><span class="status-badge status-completed">Completed</span></td>
                    <td><img src="/assets/details-view.svg" alt="View" class="details-svg action-svg"></td>
                    <td><img src="/assets/manage-view.svg" alt="Manage" class="manage-svg action-svg"></td>
                </tr>
            </tbody>
        </table>
        <div class="table_footer">
            <button class="page_button" id="previous_button">Previous</button>
            <h1 class="range_info">Page 1 of 1</h1>
            <button class="page_button" id="next_button">Next</button>
        </div>
    </div>
</div>

<!-- Create Exam Modal -->
<div class="modal-overlay" id="create-exam-modal">
    <div class="modal-content">
        <h2>Create New Exam</h2>
        
        <!-- Exam Information Section -->
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Exam Title</label>
                <input type="text" id="exam-title" class="form-input" placeholder="e.g. Midterm Exam">
            </div>
            <div class="form-group">
                <label class="form-label">Exam Date</label>
                <input type="date" id="exam-date" class="form-input">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Class</label>
                <select id="exam-class" class="form-select">
                    <option value="" disabled selected>Select a class</option>
                    <!-- Classes will be populated dynamically -->
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Status</label>
                <select id="exam-status" class="form-select">
                    <option value="pending">Pending</option>
                    <option value="active">Active</option>
                    <option value="completed">Completed</option>
                </select>
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">Description</label>
            <textarea id="exam-description" class="form-input" rows="3" placeholder="Exam description and notes"></textarea>
        </div>
        
        <!-- Problems Section -->
        <div class="section-title">
            <h3>Exam Problems</h3>
        </div>
        
        <div id="problems-container">
            <!-- First problem entry (always present) -->
            <div class="problem-entry" data-problem-index="0">
                <div class="problem-entry-header">
                    <span class="problem-number">Problem 1</span>
                    <span class="remove-problem">Remove</span>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Problem Title</label>
                        <input type="text" class="form-input problem-title" placeholder="Problem title">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Max Score</label>
                        <input type="number" class="form-input problem-score" placeholder="Points" min="1" value="10">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Problem Description</label>
                    <textarea class="form-input problem-description" rows="2" placeholder="Description of the problem"></textarea>
                </div>
            </div>
        </div>
        
        <button class="add-problem-btn" id="add-more-problems">
            + Add another problem
        </button>
        
        <div class="modal-actions">
            <button class="submit-btn" id="submit-exam-btn">Create Exam</button>
            <button class="close-btn" id="close-create-modal-btn">Cancel</button>
        </div>
    </div>
</div>

<!-- Manage Exam Scores Modal -->
<div class="modal-overlay" id="manage-scores-modal">
    <div class="modal-content">
        <h2>Manage Exam Scores</h2>
        
        <!-- Exam Info -->
        <div class="exam-info">
            <div class="exam-info-item">
                <div class="exam-info-label">Exam</div>
                <div class="exam-info-value" id="score-exam-title">Midterm Exam</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Class</div>
                <div class="exam-info-value" id="score-exam-class">경기북과학고등학교</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Date</div>
                <div class="exam-info-value" id="score-exam-date">2025-05-15</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Total Score</div>
                <div class="exam-info-value" id="score-exam-total">100</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Status</div>
                <div class="exam-info-value" id="score-exam-status">
                    <span class="status-badge status-active">Active</span>
                </div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Average</div>
                <div class="exam-info-value" id="score-exam-average">85.5</div>
            </div>
        </div>
        
        <!-- Problems List -->
        <h3>Problems</h3>
        <div class="problems-list" id="exam-problems-list">
            <div class="problem-item">
                <div class="problem-header">
                    <span class="problem-title">Problem 1: Linear Equations</span>
                    <span class="problem-score">10 points</span>
                </div>
                <div class="problem-description">
                    Solve the given system of linear equations.
                </div>
            </div>
            <div class="problem-item">
                <div class="problem-header">
                    <span class="problem-title">Problem 2: Geometry</span>
                    <span class="problem-score">15 points</span>
                </div>
                <div class="problem-description">
                    Find the area of the shaded region.
                </div>
            </div>
            <div class="problem-item">
                <div class="problem-header">
                    <span class="problem-title">Problem 3: Calculus</span>
                    <span class="problem-score">15 points</span>
                </div>
                <div class="problem-description">
                    Find the derivative of the given function.
                </div>
            </div>
        </div>
        
        <!-- Student Scores Summary -->
        <h3>Score Summary</h3>
        <div class="students-table-container">
            <table class="students-table">
                <thead>
                    <tr>
                        <th>Student</th>
                        <th>Score</th>
                        <th>Percentage</th>
                    </tr>
                </thead>
                <tbody id="score-summary-body">
                    <tr>
                        <td>Kim Min-jae</td>
                        <td>35/40</td>
                        <td>87.5%</td>
                    </tr>
                    <tr>
                        <td>Park Ji-sun</td>
                        <td>36/40</td>
                        <td>90.0%</td>
                    </tr>
                    <tr>
                        <td>Lee Joon-ho</td>
                        <td>32/40</td>
                        <td>80.0%</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="modal-actions">
            <button class="submit-btn" id="edit-exam-btn">Edit Scores</button>
            <button class="close-btn" id="close-view-modal-btn">Close</button>
        </div>
    </div>
</div>

<!-- View Exam Details Modal -->
<div class="modal-overlay" id="view-exam-modal">
    <div class="modal-content">
        <h2>Exam Details</h2>
        
        <!-- Exam Info -->
        <div class="exam-info">
            <div class="exam-info-item">
                <div class="exam-info-label">Exam</div>
                <div class="exam-info-value" id="detail-exam-title">Midterm Exam</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Class</div>
                <div class="exam-info-value" id="detail-exam-class">경기북과학고등학교</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Date</div>
                <div class="exam-info-value" id="detail-exam-date">2025-05-15</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Total Score</div>
                <div class="exam-info-value" id="detail-exam-total">100</div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Status</div>
                <div class="exam-info-value" id="detail-exam-status">
                    <span class="status-badge status-active">Active</span>
                </div>
            </div>
            <div class="exam-info-item">
                <div class="exam-info-label">Description</div>
                <div class="exam-info-value" id="detail-exam-description">
                    This is the midterm exam covering chapters 1-5 of the textbook.
                </div>
            </div>
        </div>
        
        <!-- Problems List -->
        <h3>Problems</h3>
        <div class="problems-list" id="detail-problems-list">
            <div class="problem-item">
                <div class="problem-header">
                    <span class="problem-title">Problem 1: Linear Equations</span>
                    <span class="problem-score">10 points</span>
                </div>
                <div class="problem-description">
                    Solve the given system of linear equations.
                </div>
            </div>
            <div class="problem-item">
                <div class="problem-header">
                    <span class="problem-title">Problem 2: Geometry</span>
                    <span class="problem-score">15 points</span>
                </div>
                <div class="problem-description">
                    Find the area of the shaded region.
                </div>
            </div>
        </div>
        
        <!-- Students Scores -->
        <h3>Student Scores</h3>
        <div class="students-table-container">
            <table class="students-table">
                <thead>
                    <tr>
                        <th>Student</th>
                        <th>Problem 1</th>
                        <th>Problem 2</th>
                        <th>Problem 3</th>
                        <th>Total</th>
                        <th>Comment</th>
                    </tr>
                </thead>
                <tbody id="student-scores-body">
                    <tr>
                        <td>Kim Min-jae</td>
                        <td><input type="number" class="score-input" min="0" max="10" value="9"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="12"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="14"></td>
                        <td>35/40</td>
                        <td><textarea class="comment-input">Good work, especially on problem 3.</textarea></td>
                    </tr>
                    <tr>
                        <td>Park Ji-sun</td>
                        <td><input type="number" class="score-input" min="0" max="10" value="8"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="15"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="13"></td>
                        <td>36/40</td>
                        <td><textarea class="comment-input">Excellent work on geometry problems.</textarea></td>
                    </tr>
                    <tr>
                        <td>Lee Joon-ho</td>
                        <td><input type="number" class="score-input" min="0" max="10" value="10"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="10"></td>
                        <td><input type="number" class="score-input" min="0" max="15" value="12"></td>
                        <td>32/40</td>
                        <td><textarea class="comment-input">Need to work on geometry.</textarea></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="modal-actions">
            <button class="submit-btn" id="save-scores-btn">Save Scores</button>
            <button class="close-btn" id="close-scores-modal-btn">Cancel</button>
        </div>
    </div>
</div>